.\" Manpage for peak_memusage.
.\" Contact csgteam@ucar.edu to correct errors or typos.
.TH man 3 "25 January 2023" "1.0" "peak_memusage man page"
.SH NAME
peak_memusage \- Determine the high-water mark memory usage of an application.
.SH SYNOPSIS
$ peak_memusage <program> --args --for-program

$ mpiexec peak_memusage <mpi_program>
.SH DESCRIPTION
peak_memusage determines the high-water mark of an applciation's memory usage.

This utility is a wrapper around getrusage, which reports peak memory use of any executable. It is OpenMP and MPI aware and tries to report thread- and task- specific data. Of course, being OpenMP shared memory, that report cannot really separate thread-specific memory use.

Note that the memory usage is reported only at the end of the run.
.SH OPTIONS
The peak_memusage does not take any options.
.SH EXAMPLES
.nf
$ ./peak_memusage ./use_memory
Running: ./use_memory; sleep 1  - Please wait...
Allocating, using and freeing 1000000 ints (3.81 MiB) in thread 0/1
casper-login2 used memory in task 0: 30.82MiB (+23.03MiB overhead). ExitStatus: 0. Signal: 0
.fi

.SH SEE ALSO
log_memusage(3)
.SH BUGS
No known bugs.
.SH AUTHOR
Ben Kirk (benkirk@ucar.edu)